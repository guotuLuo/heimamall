22:04:36:922  INFO 20072 --- [main] com.heima.trade.TradeallApplication      : The following 1 profile is active: "dev"
22:04:37:352  INFO 20072 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
22:04:37:353  INFO 20072 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
22:04:37:367  INFO 20072 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
22:04:37:538  INFO 20072 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=66f65ac9-dd1e-35f3-a29c-e3f1fd671432
22:04:37:797  INFO 20072 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
22:04:37:798  INFO 20072 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [2.0.7] using APR version [1.7.4].
22:04:37:798  INFO 20072 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
22:04:37:798  INFO 20072 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
22:04:37:801  INFO 20072 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
22:04:37:806  INFO 20072 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
22:04:37:807  INFO 20072 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
22:04:37:866  INFO 20072 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
22:04:37:866  INFO 20072 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 927 ms
22:04:37:985  INFO 20072 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
22:04:38:375  INFO 20072 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
22:04:38:532 DEBUG 20072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 8 mappings in 'requestMappingHandlerMapping'
22:04:38:608 DEBUG 20072 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
22:04:38:639 DEBUG 20072 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
22:04:38:643 DEBUG 20072 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
22:04:38:744  INFO 20072 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
22:04:39:099  INFO 20072 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 9a15994e-74dc-43ed-a02d-b20705be441e
22:04:39:099  INFO 20072 --- [main] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] RpcClient init label, labels = {module=naming, source=sdk}
22:04:39:101  INFO 20072 --- [main] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
22:04:39:101  INFO 20072 --- [main] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
22:04:39:101  INFO 20072 --- [main] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
22:04:39:101  INFO 20072 --- [main] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Try to connect to server on start up, server: {serverIp = '39.105.132.218', server main port = 8848}
22:04:39:300  INFO 20072 --- [main] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Success to connect to server [39.105.132.218:8848] on start up, connectionId = 1727186679182_113.140.11.124_51675
22:04:39:300  INFO 20072 --- [main] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
22:04:39:300  INFO 20072 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Notify connected event to listeners.
22:04:39:301  INFO 20072 --- [main] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$482/0x0000022b5b4c9210
22:04:39:365  INFO 20072 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
22:04:39:394  INFO 20072 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 10.198.6.11:8085 register finished
22:04:39:451  INFO 20072 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
22:04:39:452  INFO 20072 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
22:04:39:464  INFO 20072 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
22:04:39:521  INFO 20072 --- [main] com.heima.trade.TradeallApplication      : Started TradeallApplication in 4.399 seconds (JVM running for 4.764)
22:04:39:526  INFO 20072 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
22:04:39:527  INFO 20072 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
22:04:39:527  INFO 20072 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-dev.yaml, group=DEFAULT_GROUP
22:04:39:930  INFO 20072 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 5
22:04:39:939  INFO 20072 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 5
22:12:00:845  INFO 20072 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
22:12:00:845  INFO 20072 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
22:12:00:846 DEBUG 20072 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
22:12:00:846 DEBUG 20072 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
22:12:00:846 DEBUG 20072 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
22:12:00:847 DEBUG 20072 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@e8c2e87
22:12:00:847 DEBUG 20072 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2c522d53
22:12:00:847 DEBUG 20072 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
22:12:00:847  INFO 20072 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
22:12:00:854 DEBUG 20072 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/orders", parameters={}
22:12:00:857 DEBUG 20072 --- [http-nio-8085-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.heima.trade.controller.OrderController#createOrder(OrderFormDTO)
22:12:00:872 DEBUG 20072 --- [http-nio-8085-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [OrderFormDTO(addressId=61, paymentType=3, details=[OrderDetailDTO(itemId=5706773, num=1)])]
22:12:00:880  INFO 20072 --- [http-nio-8085-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
22:12:01:365  INFO 20072 --- [http-nio-8085-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
22:12:01:405 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] ---> GET http://item-service/items?ids=5706773 HTTP/1.1
22:12:01:405 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] userInfo: 1
22:12:01:405 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] ---> END HTTP (0-byte body)
22:12:01:565 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] <--- HTTP/1.1 200  (160ms)
22:12:01:565 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] connection: keep-alive
22:12:01:565 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] content-type: application/json
22:12:01:565 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] date: Tue, 24 Sep 2024 14:12:01 GMT
22:12:01:565 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] keep-alive: timeout=60
22:12:01:565 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] transfer-encoding: chunked
22:12:01:565 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] 
22:12:01:566 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] [{"id":"5706773","name":"华为 HUAWEI Mate 10 Pro 全面屏徕卡双摄游戏手机 6GB+128GB 银钻灰 全网通移动联通电信4G手机 双卡双待","price":544000,"stock":9999,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t11986/295/1484411523/155164/77795126/5a01503cN19d7f1a0.jpg!q70.jpg.webp","category":"手机","brand":"华为","spec":"{\"颜色\": \"银色\", \"选择内存\": \"128GB\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
22:12:01:566 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] <--- END HTTP (464-byte body)
22:12:01:570 DEBUG 20072 --- [http-nio-8085-exec-1] o.s.w.c.HttpMessageConverterExtractor    : Reading to [java.util.List<com.heima.api.domain.dto.ItemDTO>]
22:12:01:613 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
22:12:01:630 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.trade.mapper.OrderMapper.insert  : ==> Parameters: 1838582163368484865(Long), 544000(Integer), 3(Integer), 1(Long), 1(Integer)
22:12:01:685 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.trade.mapper.OrderMapper.insert  : <==    Updates: 1
22:12:01:693 DEBUG 20072 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
22:12:01:694 DEBUG 20072 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1838582163368484865(Long), 5706773(Long), 1(Integer), 华为 HUAWEI Mate 10 Pro 全面屏徕卡双摄游戏手机 6GB+128GB 银钻灰 全网通移动联通电信4G手机 双卡双待(String), {"颜色": "银色", "选择内存": "128GB"}(String), 544000(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t11986/295/1484411523/155164/77795126/5a01503cN19d7f1a0.jpg!q70.jpg.webp(String)
22:12:01:798 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=5706773 HTTP/1.1
22:12:01:798 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] userInfo: 1
22:12:01:798 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
22:12:01:952 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] <--- HTTP/1.1 200  (153ms)
22:12:01:952 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] connection: keep-alive
22:12:01:952 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] content-length: 0
22:12:01:952 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] date: Tue, 24 Sep 2024 14:12:01 GMT
22:12:01:952 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] keep-alive: timeout=60
22:12:01:952 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
22:12:01:959 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
22:12:01:960 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] Content-Length: 30
22:12:01:960 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] Content-Type: application/json
22:12:01:960 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] userInfo: 1
22:12:01:960 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] 
22:12:01:960 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] [{"itemId":"5706773","num":1}]
22:12:01:960 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] ---> END HTTP (30-byte body)
22:12:02:046  INFO 20072 --- [nacos-grpc-client-executor-101] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 18
22:12:02:046  INFO 20072 --- [nacos-grpc-client-executor-101] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 18
22:12:02:046 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] <--- HTTP/1.1 200  (86ms)
22:12:02:046 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] connection: keep-alive
22:12:02:046 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] content-length: 0
22:12:02:046 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] date: Tue, 24 Sep 2024 14:12:01 GMT
22:12:02:047 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] keep-alive: timeout=60
22:12:02:047 DEBUG 20072 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] <--- END HTTP (0-byte body)
22:12:02:133 DEBUG 20072 --- [http-nio-8085-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
22:12:02:134 DEBUG 20072 --- [http-nio-8085-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [1838582163368484865]
22:12:02:137 DEBUG 20072 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
22:12:02:346  INFO 20072 --- [nacos-grpc-client-executor-102] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 19
22:12:02:347  INFO 20072 --- [nacos-grpc-client-executor-102] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 19
22:12:02:435 DEBUG 20072 --- [http-nio-8085-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/orders/1838582163368484865", parameters={}
22:12:02:435 DEBUG 20072 --- [http-nio-8085-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.heima.trade.controller.OrderController#queryOrderById(Long)
22:12:02:438 DEBUG 20072 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
22:12:02:438 DEBUG 20072 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1838582163368484865(Long)
22:12:02:473 DEBUG 20072 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
22:12:02:507 DEBUG 20072 --- [http-nio-8085-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
22:12:02:512 DEBUG 20072 --- [http-nio-8085-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [OrderVO(id=1838582163368484865, totalFee=544000, paymentType=3, userId=1, status=1, createTime=2024- (truncated)...]
22:12:02:513 DEBUG 20072 --- [http-nio-8085-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
22:22:30:955  INFO 20072 --- [nacos-grpc-client-executor-238] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 23
22:22:30:962  INFO 20072 --- [nacos-grpc-client-executor-238] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 23
22:22:39:464  INFO 20072 --- [nacos-grpc-client-executor-239] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 26
22:22:39:474  INFO 20072 --- [nacos-grpc-client-executor-239] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 26
22:25:26:130  INFO 20072 --- [nacos-grpc-client-executor-276] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 30
22:25:26:137  INFO 20072 --- [nacos-grpc-client-executor-276] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 30
22:26:23:187  INFO 20072 --- [nacos-grpc-client-executor-288] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 33
22:26:23:191  INFO 20072 --- [nacos-grpc-client-executor-288] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 33
22:27:07:835  INFO 20072 --- [nacos-grpc-client-executor-298] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 35
22:27:07:842  INFO 20072 --- [nacos-grpc-client-executor-298] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 35
22:27:15:343  INFO 20072 --- [nacos-grpc-client-executor-299] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 38
22:27:15:345  INFO 20072 --- [nacos-grpc-client-executor-299] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 38
22:27:22:747  INFO 20072 --- [nacos-grpc-client-executor-301] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 41
22:27:22:751  INFO 20072 --- [nacos-grpc-client-executor-301] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 41
22:28:30:219  INFO 20072 --- [nacos-grpc-client-executor-314] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 44
22:28:30:231  INFO 20072 --- [nacos-grpc-client-executor-314] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 44
22:28:37:924  INFO 20072 --- [nacos-grpc-client-executor-316] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Receive server push request, request = NotifySubscriberRequest, requestId = 47
22:28:37:930  INFO 20072 --- [nacos-grpc-client-executor-316] com.alibaba.nacos.common.remote.client   : [9a15994e-74dc-43ed-a02d-b20705be441e] Ack server push request, request = NotifySubscriberRequest, requestId = 47
22:32:55:003 DEBUG 20072 --- [http-nio-8085-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/orders", parameters={}
22:32:55:003 DEBUG 20072 --- [http-nio-8085-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.heima.trade.controller.OrderController#createOrder(OrderFormDTO)
22:32:55:004 DEBUG 20072 --- [http-nio-8085-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [OrderFormDTO(addressId=61, paymentType=3, details=[OrderDetailDTO(itemId=8533120, num=1), OrderDetai (truncated)...]
22:33:05:029  WARN 20072 --- [http-nio-8085-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3b6f6766 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
22:33:15:039  WARN 20072 --- [http-nio-8085-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6a05d958 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
22:33:25:055  WARN 20072 --- [http-nio-8085-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@18784f88 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
22:33:25:057 DEBUG 20072 --- [http-nio-8085-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30051ms.
22:33:25:060 ERROR 20072 --- [http-nio-8085-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30051ms.] with root cause

com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.23.jar:8.0.23]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.23.jar:8.0.23]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.23.jar:8.0.23]
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:1171) ~[mysql-connector-java-8.0.23.jar:8.0.23]
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:573) ~[mysql-connector-java-8.0.23.jar:8.0.23]
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2491) ~[mysql-connector-java-8.0.23.jar:8.0.23]
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:566) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128) ~[HikariCP-4.0.3.jar:na]
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265) ~[spring-jdbc-5.3.27.jar:5.3.27]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.heima.trade.service.impl.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$7569fb84.createOrder(<generated>) ~[classes/:na]
	at com.heima.trade.controller.OrderController.createOrder(OrderController.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

22:33:25:063 DEBUG 20072 --- [http-nio-8085-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
22:33:25:064 DEBUG 20072 --- [http-nio-8085-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
22:33:25:066 DEBUG 20072 --- [http-nio-8085-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
22:33:25:066 DEBUG 20072 --- [http-nio-8085-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Sep 24 22:33:25 CST 2024, status=500, error=Internal Server Error, path=/orders}]
22:33:25:069 DEBUG 20072 --- [http-nio-8085-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
22:34:33:170 DEBUG 20072 --- [http-nio-8085-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/orders", parameters={}
22:34:33:170 DEBUG 20072 --- [http-nio-8085-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.heima.trade.controller.OrderController#createOrder(OrderFormDTO)
22:34:33:170 DEBUG 20072 --- [http-nio-8085-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [OrderFormDTO(addressId=61, paymentType=3, details=[OrderDetailDTO(itemId=8533120, num=1), OrderDetai (truncated)...]
22:34:43:191  WARN 20072 --- [http-nio-8085-exec-7] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@85d1b21 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
22:34:49:720  WARN 20072 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
22:34:49:720  WARN 20072 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
22:34:49:721  WARN 20072 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
22:34:49:722  WARN 20072 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
22:34:53:214  WARN 20072 --- [http-nio-8085-exec-7] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2a57051 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
22:34:59:549  INFO 26720 --- [main] com.heima.trade.TradeallApplication      : The following 1 profile is active: "dev"
22:35:00:012  INFO 26720 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
22:35:00:014  INFO 26720 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
22:35:00:031  INFO 26720 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
22:35:00:181  INFO 26720 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=66f65ac9-dd1e-35f3-a29c-e3f1fd671432
22:35:00:434  INFO 26720 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
22:35:00:435  INFO 26720 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [2.0.7] using APR version [1.7.4].
22:35:00:435  INFO 26720 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
22:35:00:435  INFO 26720 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
22:35:00:438  INFO 26720 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
22:35:00:444  INFO 26720 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
22:35:00:445  INFO 26720 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
22:35:00:525  INFO 26720 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
22:35:00:525  INFO 26720 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 959 ms
22:35:00:650  INFO 26720 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
22:35:01:040  INFO 26720 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
22:35:01:205 DEBUG 26720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 8 mappings in 'requestMappingHandlerMapping'
22:35:01:283 DEBUG 26720 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
22:35:01:313 DEBUG 26720 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
22:35:01:317 DEBUG 26720 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
22:35:01:407  INFO 26720 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
22:35:01:775  INFO 26720 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 02bcd530-5b53-4343-a58b-f1a6a6760bb9
22:35:01:775  INFO 26720 --- [main] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] RpcClient init label, labels = {module=naming, source=sdk}
22:35:01:776  INFO 26720 --- [main] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
22:35:01:777  INFO 26720 --- [main] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
22:35:01:777  INFO 26720 --- [main] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
22:35:01:777  INFO 26720 --- [main] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Try to connect to server on start up, server: {serverIp = '39.105.132.218', server main port = 8848}
22:35:02:001  INFO 26720 --- [main] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Success to connect to server [39.105.132.218:8848] on start up, connectionId = 1727188501876_113.140.11.124_51701
22:35:02:001  INFO 26720 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Notify connected event to listeners.
22:35:02:001  INFO 26720 --- [main] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
22:35:02:001  INFO 26720 --- [main] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$482/0x0000025d204d6780
22:35:02:063  INFO 26720 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
22:35:02:091  INFO 26720 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 10.198.6.11:8085 register finished
22:35:02:146  INFO 26720 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
22:35:02:148  INFO 26720 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
22:35:02:160  INFO 26720 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
22:35:02:212  INFO 26720 --- [main] com.heima.trade.TradeallApplication      : Started TradeallApplication in 4.436 seconds (JVM running for 4.829)
22:35:02:216  INFO 26720 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
22:35:02:216  INFO 26720 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
22:35:02:216  INFO 26720 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-dev.yaml, group=DEFAULT_GROUP
22:35:02:589  INFO 26720 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Receive server push request, request = NotifySubscriberRequest, requestId = 50
22:35:02:594  INFO 26720 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Ack server push request, request = NotifySubscriberRequest, requestId = 50
22:35:08:667  INFO 26720 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
22:35:08:668  INFO 26720 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
22:35:08:668 DEBUG 26720 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
22:35:08:668 DEBUG 26720 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
22:35:08:668 DEBUG 26720 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
22:35:08:669 DEBUG 26720 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@26ae3a9b
22:35:08:669 DEBUG 26720 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6fec0c02
22:35:08:669 DEBUG 26720 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
22:35:08:669  INFO 26720 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
22:35:08:676 DEBUG 26720 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/orders", parameters={}
22:35:08:679 DEBUG 26720 --- [http-nio-8085-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.heima.trade.controller.OrderController#createOrder(OrderFormDTO)
22:35:08:701 DEBUG 26720 --- [http-nio-8085-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [OrderFormDTO(addressId=61, paymentType=3, details=[OrderDetailDTO(itemId=8533120, num=1), OrderDetai (truncated)...]
22:35:08:708  INFO 26720 --- [http-nio-8085-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
22:35:09:350  INFO 26720 --- [http-nio-8085-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
22:35:09:387 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] ---> GET http://item-service/items?ids=8533120&ids=100001511821&ids=100001905417 HTTP/1.1
22:35:09:387 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] userInfo: 1
22:35:09:387 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] ---> END HTTP (0-byte body)
22:35:09:560 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] <--- HTTP/1.1 200  (173ms)
22:35:09:561 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] connection: keep-alive
22:35:09:561 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] content-type: application/json
22:35:09:561 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] date: Tue, 24 Sep 2024 14:35:09 GMT
22:35:09:561 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] keep-alive: timeout=60
22:35:09:561 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] transfer-encoding: chunked
22:35:09:561 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] 
22:35:09:561 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] [{"id":"8533120","name":"海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视","price":379500,"stock":9987,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp","category":"曲面电视","brand":"海尔","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"100001511821","name":"HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30","price":13700,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp","category":"牛仔裤","brand":"HMDIME","spec":"{\"颜色\": \"蓝色\", \"尺码\": \"30\"}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"100001905417","name":"【千玺代言】华为新品 HUAWEI nova 4 极点全面屏手机 2000万超广角三摄 8GB+128GB 蜜语红 全网通双卡双待","price":224900,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/20085/14/1076/149604/5c0f8dd2Ebafd3bfd/0cb34a7826cbe1c3.jpg!q70.jpg.webp","category":"手机","brand":"华为","spec":"{\"颜色\": \"红色\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
22:35:09:562 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] <--- END HTTP (1288-byte body)
22:35:09:564 DEBUG 26720 --- [http-nio-8085-exec-1] o.s.w.c.HttpMessageConverterExtractor    : Reading to [java.util.List<com.heima.api.domain.dto.ItemDTO>]
22:35:09:611 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
22:35:09:630 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.trade.mapper.OrderMapper.insert  : ==> Parameters: 1838587985049870338(Long), 618100(Integer), 3(Integer), 1(Long), 1(Integer)
22:35:09:677 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.trade.mapper.OrderMapper.insert  : <==    Updates: 1
22:35:09:688 DEBUG 26720 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
22:35:09:689 DEBUG 26720 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1838587985049870338(Long), 8533120(Long), 1(Integer), 海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视(String), {}(String), 379500(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp(String)
22:35:09:689 DEBUG 26720 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1838587985049870338(Long), 100001511821(Long), 1(Integer), HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30(String), {"颜色": "蓝色", "尺码": "30"}(String), 13700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp(String)
22:35:09:690 DEBUG 26720 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1838587985049870338(Long), 100001905417(Long), 1(Integer), 【千玺代言】华为新品 HUAWEI nova 4 极点全面屏手机 2000万超广角三摄 8GB+128GB 蜜语红 全网通双卡双待(String), {"颜色": "红色"}(String), 224900(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/20085/14/1076/149604/5c0f8dd2Ebafd3bfd/0cb34a7826cbe1c3.jpg!q70.jpg.webp(String)
22:35:09:797 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=8533120&ids=100001511821&ids=100001905417 HTTP/1.1
22:35:09:798 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] userInfo: 1
22:35:09:798 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
22:35:09:924 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] <--- HTTP/1.1 200  (127ms)
22:35:09:924 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] connection: keep-alive
22:35:09:924 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] content-length: 0
22:35:09:924 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] date: Tue, 24 Sep 2024 14:35:09 GMT
22:35:09:924 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] keep-alive: timeout=60
22:35:09:924 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
22:35:09:931 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
22:35:09:931 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] Content-Length: 98
22:35:09:931 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] Content-Type: application/json
22:35:09:931 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] userInfo: 1
22:35:09:931 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] 
22:35:09:931 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] [{"itemId":"8533120","num":1},{"itemId":"100001511821","num":1},{"itemId":"100001905417","num":1}]
22:35:09:931 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] ---> END HTTP (98-byte body)
22:35:09:991  INFO 26720 --- [nacos-grpc-client-executor-13] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Receive server push request, request = NotifySubscriberRequest, requestId = 52
22:35:09:991  INFO 26720 --- [nacos-grpc-client-executor-13] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Ack server push request, request = NotifySubscriberRequest, requestId = 52
22:35:10:040 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] <--- HTTP/1.1 200  (108ms)
22:35:10:041 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] connection: keep-alive
22:35:10:041 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] content-length: 0
22:35:10:041 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] date: Tue, 24 Sep 2024 14:35:09 GMT
22:35:10:041 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] keep-alive: timeout=60
22:35:10:041 DEBUG 26720 --- [http-nio-8085-exec-1] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] <--- END HTTP (0-byte body)
22:35:10:097 DEBUG 26720 --- [http-nio-8085-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
22:35:10:098 DEBUG 26720 --- [http-nio-8085-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [1838587985049870338]
22:35:10:101 DEBUG 26720 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
22:35:10:354 DEBUG 26720 --- [http-nio-8085-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/orders/1838587985049870338", parameters={}
22:35:10:354 DEBUG 26720 --- [http-nio-8085-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.heima.trade.controller.OrderController#queryOrderById(Long)
22:35:10:356 DEBUG 26720 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
22:35:10:357 DEBUG 26720 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1838587985049870338(Long)
22:35:10:388 DEBUG 26720 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
22:35:10:391  INFO 26720 --- [nacos-grpc-client-executor-14] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Receive server push request, request = NotifySubscriberRequest, requestId = 53
22:35:10:391  INFO 26720 --- [nacos-grpc-client-executor-14] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Ack server push request, request = NotifySubscriberRequest, requestId = 53
22:35:10:419 DEBUG 26720 --- [http-nio-8085-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
22:35:10:423 DEBUG 26720 --- [http-nio-8085-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [OrderVO(id=1838587985049870338, totalFee=618100, paymentType=3, userId=1, status=1, createTime=2024- (truncated)...]
22:35:10:423 DEBUG 26720 --- [http-nio-8085-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
22:39:26:039  INFO 26720 --- [nacos-grpc-client-executor-74] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Receive server push request, request = NotifySubscriberRequest, requestId = 54
22:39:26:048  INFO 26720 --- [nacos-grpc-client-executor-74] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Ack server push request, request = NotifySubscriberRequest, requestId = 54
22:39:34:044  INFO 26720 --- [nacos-grpc-client-executor-76] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Receive server push request, request = NotifySubscriberRequest, requestId = 56
22:39:34:048  INFO 26720 --- [nacos-grpc-client-executor-76] com.alibaba.nacos.common.remote.client   : [02bcd530-5b53-4343-a58b-f1a6a6760bb9] Ack server push request, request = NotifySubscriberRequest, requestId = 56
22:41:07:032 DEBUG 26720 --- [http-nio-8085-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/orders", parameters={}
22:41:07:033 DEBUG 26720 --- [http-nio-8085-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.heima.trade.controller.OrderController#createOrder(OrderFormDTO)
22:41:07:034 DEBUG 26720 --- [http-nio-8085-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [OrderFormDTO(addressId=61, paymentType=3, details=[OrderDetailDTO(itemId=1861102, num=1), OrderDetai (truncated)...]
22:41:07:081 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] ---> GET http://item-service/items?ids=1861102&ids=5706773&ids=8533120&ids=100001905417 HTTP/1.1
22:41:07:081 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] userInfo: 1
22:41:07:081 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] ---> END HTTP (0-byte body)
22:41:07:137 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] <--- HTTP/1.1 200  (56ms)
22:41:07:137 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] connection: keep-alive
22:41:07:137 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] content-type: application/json
22:41:07:137 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] date: Tue, 24 Sep 2024 14:41:07 GMT
22:41:07:137 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] keep-alive: timeout=60
22:41:07:138 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] transfer-encoding: chunked
22:41:07:138 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] 
22:41:07:138 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] [{"id":"1861102","name":"Apple iPhone 6s Plus (A1699) 128G 玫瑰金色 移动联通电信4G手机","price":632800,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t2302/16/135479564/94882/c76da045/55f0e877N3c24faa3.jpg!q70.jpg.webp","category":"手机","brand":"Apple","spec":"{\"颜色\": \"金色\"}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"5706773","name":"华为 HUAWEI Mate 10 Pro 全面屏徕卡双摄游戏手机 6GB+128GB 银钻灰 全网通移动联通电信4G手机 双卡双待","price":544000,"stock":9998,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t11986/295/1484411523/155164/77795126/5a01503cN19d7f1a0.jpg!q70.jpg.webp","category":"手机","brand":"华为","spec":"{\"颜色\": \"银色\", \"选择内存\": \"128GB\"}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"8533120","name":"海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视","price":379500,"stock":9986,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp","category":"曲面电视","brand":"海尔","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"100001905417","name":"【千玺代言】华为新品 HUAWEI nova 4 极点全面屏手机 2000万超广角三摄 8GB+128GB 蜜语红 全网通双卡双待","price":224900,"stock":9999,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/20085/14/1076/149604/5c0f8dd2Ebafd3bfd/0cb34a7826cbe1c3.jpg!q70.jpg.webp","category":"手机","brand":"华为","spec":"{\"颜色\": \"红色\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
22:41:07:138 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#queryItemByIds] <--- END HTTP (1666-byte body)
22:41:07:138 DEBUG 26720 --- [http-nio-8085-exec-4] o.s.w.c.HttpMessageConverterExtractor    : Reading to [java.util.List<com.heima.api.domain.dto.ItemDTO>]
22:41:07:140 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
22:41:07:140 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.trade.mapper.OrderMapper.insert  : ==> Parameters: 1838589484630990849(Long), 1781200(Integer), 3(Integer), 1(Long), 1(Integer)
22:41:07:191 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.trade.mapper.OrderMapper.insert  : <==    Updates: 1
22:41:07:193 DEBUG 26720 --- [http-nio-8085-exec-4] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
22:41:07:194 DEBUG 26720 --- [http-nio-8085-exec-4] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1838589484630990849(Long), 1861102(Long), 1(Integer), Apple iPhone 6s Plus (A1699) 128G 玫瑰金色 移动联通电信4G手机(String), {"颜色": "金色"}(String), 632800(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t2302/16/135479564/94882/c76da045/55f0e877N3c24faa3.jpg!q70.jpg.webp(String)
22:41:07:195 DEBUG 26720 --- [http-nio-8085-exec-4] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1838589484630990849(Long), 5706773(Long), 1(Integer), 华为 HUAWEI Mate 10 Pro 全面屏徕卡双摄游戏手机 6GB+128GB 银钻灰 全网通移动联通电信4G手机 双卡双待(String), {"颜色": "银色", "选择内存": "128GB"}(String), 544000(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t11986/295/1484411523/155164/77795126/5a01503cN19d7f1a0.jpg!q70.jpg.webp(String)
22:41:07:196 DEBUG 26720 --- [http-nio-8085-exec-4] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1838589484630990849(Long), 8533120(Long), 1(Integer), 海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视(String), {}(String), 379500(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp(String)
22:41:07:197 DEBUG 26720 --- [http-nio-8085-exec-4] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1838589484630990849(Long), 100001905417(Long), 1(Integer), 【千玺代言】华为新品 HUAWEI nova 4 极点全面屏手机 2000万超广角三摄 8GB+128GB 蜜语红 全网通双卡双待(String), {"颜色": "红色"}(String), 224900(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/20085/14/1076/149604/5c0f8dd2Ebafd3bfd/0cb34a7826cbe1c3.jpg!q70.jpg.webp(String)
22:41:07:318 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=1861102&ids=5706773&ids=8533120&ids=100001905417 HTTP/1.1
22:41:07:318 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] userInfo: 1
22:41:07:318 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
22:41:07:467 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] <--- HTTP/1.1 200  (149ms)
22:41:07:468 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] connection: keep-alive
22:41:07:468 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] content-length: 0
22:41:07:468 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] date: Tue, 24 Sep 2024 14:41:07 GMT
22:41:07:468 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] keep-alive: timeout=60
22:41:07:468 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.CartOpenFeignClient   : [CartOpenFeignClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
22:41:07:469 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
22:41:07:469 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] Content-Length: 122
22:41:07:469 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] Content-Type: application/json
22:41:07:469 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] userInfo: 1
22:41:07:469 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] 
22:41:07:469 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] [{"itemId":"1861102","num":1},{"itemId":"5706773","num":1},{"itemId":"8533120","num":1},{"itemId":"100001905417","num":1}]
22:41:07:469 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] ---> END HTTP (122-byte body)
22:41:07:611 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] <--- HTTP/1.1 200  (141ms)
22:41:07:611 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] connection: keep-alive
22:41:07:611 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] content-length: 0
22:41:07:611 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] date: Tue, 24 Sep 2024 14:41:07 GMT
22:41:07:611 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] keep-alive: timeout=60
22:41:07:611 DEBUG 26720 --- [http-nio-8085-exec-4] c.heima.api.client.ItemOpenFeignClient   : [ItemOpenFeignClient#deductStock] <--- END HTTP (0-byte body)
22:41:07:663 DEBUG 26720 --- [http-nio-8085-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
22:41:07:663 DEBUG 26720 --- [http-nio-8085-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [1838589484630990849]
22:41:07:664 DEBUG 26720 --- [http-nio-8085-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
22:41:07:907 DEBUG 26720 --- [http-nio-8085-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/orders/1838589484630990849", parameters={}
22:41:07:907 DEBUG 26720 --- [http-nio-8085-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.heima.trade.controller.OrderController#queryOrderById(Long)
22:41:07:907 DEBUG 26720 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
22:41:07:908 DEBUG 26720 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1838589484630990849(Long)
22:41:07:963 DEBUG 26720 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
22:41:07:964 DEBUG 26720 --- [http-nio-8085-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
22:41:07:964 DEBUG 26720 --- [http-nio-8085-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [OrderVO(id=1838589484630990849, totalFee=1781200, paymentType=3, userId=1, status=1, createTime=2024 (truncated)...]
22:41:07:965 DEBUG 26720 --- [http-nio-8085-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
22:41:09:644 DEBUG 26720 --- [http-nio-8085-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/orders/1838589484630990849", parameters={}
22:41:09:645 DEBUG 26720 --- [http-nio-8085-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.heima.trade.controller.OrderController#queryOrderById(Long)
22:41:09:695 DEBUG 26720 --- [http-nio-8085-exec-6] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
22:41:09:695 DEBUG 26720 --- [http-nio-8085-exec-6] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1838589484630990849(Long)
22:41:09:748 DEBUG 26720 --- [http-nio-8085-exec-6] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
22:41:09:749 DEBUG 26720 --- [http-nio-8085-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
22:41:09:749 DEBUG 26720 --- [http-nio-8085-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [OrderVO(id=1838589484630990849, totalFee=1781200, paymentType=3, userId=1, status=1, createTime=2024 (truncated)...]
22:41:09:749 DEBUG 26720 --- [http-nio-8085-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
23:20:17:568  WARN 26720 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
23:20:17:568  WARN 26720 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
23:20:17:574  WARN 26720 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
23:20:17:574  WARN 26720 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
23:20:17:628  INFO 26720 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
23:20:17:658  INFO 26720 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
23:20:17:990  INFO 26720 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
23:20:17:990  INFO 26720 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1d1f2082[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
23:20:17:990  INFO 26720 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1727188501876_113.140.11.124_51701
23:20:17:996  INFO 26720 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2a50e4c7[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 607]
23:20:17:998  INFO 26720 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
23:20:18:229  INFO 26720 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
